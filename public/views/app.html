{{ define "app" }}

<!DOCTYPE html>
<html lang="en">
	{{ template "header" .}}

	<body>
		<div class="main">
			<div class="game-content">
				<!-- status bar -->
				<div class="status-bar">
					<div class="round hidden"><span>Round: 0</span></div>

					<div class="word hidden"><span></span></div>

					<div class="time-left-for-word">
						<span>Waiting for game to start</span>
					</div>

					<div class="joining-link-div">
						<button class="btn joining-link">Copy joining link</button>
					</div>
				</div>

				<!-- canvas -->
				<div class="canvas-container">
					<div id="overlay">
						<div class="overlay-div">
							<p class="overlay-p">
								Waiting for others to join, starting game in
								<span class="loading">{{ .GameStartDurationInSeconds }}</span>
								seconds
							</p>

							<button class="btn start-game-btn">Start now</button>
						</div>
					</div>

					<canvas class="canv"></canvas>

					<div class="painter-utils hidden">
						<button class="btn clear-canvas">Clear</button>
					</div>
				</div>

				<!-- members and chat container -->
				<div class="mc-container">
					<div class="side members"></div>
					<div class="side messages"></div>
				</div>

				<!-- chat box -->
				<div class="chat-box">
					<form>
						<div class="input-wrapper">
							<input
								type="text"
								class="msg"
								placeholder="Type your guess here"
								maxlength="50"
								required
							/>
							<span>0</span>

							<button class="btn send-msg">Send</button>
						</div>
					</form>
				</div>
			</div>
		</div>

		<script>
			const poolId = '{{ .PoolId }}';
			const clientId = '{{ .ClientId }}';
			const clientName = '{{ .ClientName }}';
			const clientColor = '{{ .ClientColor }}';
			const gameStartTime = new Date('{{ .GameStartTime }}').getTime();
			const joiningLink = '{{ .JoiningLink }}';
		</script>

		<script src="public/javascript/utils.js"></script>
		<script src="public/javascript/canvas.js"></script>
		<script src="public/javascript/onMsgHandlers.js"></script>
		<script src="public/javascript/socket.js"></script>
		<script src="public/javascript/main.js"></script>
	</body>
</html>

{{ end }}
