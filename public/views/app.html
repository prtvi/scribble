{{ define "app" }}

<!DOCTYPE html>
<html lang="en">
	{{ template "header" .}}

	<body>
		<div class="main">
			{{ if .RegisterToPool }}

			<form action="/app" method="post">
				<input type="hidden" name="poolId" value="{{ .PoolId }}" />

				<label for="name">Enter your name to join:</label>
				<input type="text" name="clientName" required autofocus />
				<button type="submit">Join</button>
			</form>

			{{ end }}

			<!-- above code renders when a GET request is made -->

			{{ if .ConnectSocket }}

			<div class="members"></div>
			<div class="messages"></div>
			<form>
				<input type="hidden" name="poolId" value="{{ .PoolId }}" />
				<input type="hidden" name="clientName" value="{{ .ClientName }}" />
				<input type="hidden" name="clientId" value="" />

				<label for="msg">Enter msg:</label>
				<input type="text" id="msg" required />
				<button id="sendMsg">Send</button>
			</form>

			<canvas id="canv"></canvas>

			<script src="public/app.js"></script>

			{{ end }}

			<!--  -->

			{{ if ne .Message "" }}

			<p>{{ .Message }}</p>

			{{ end }}
		</div>
	</body>
</html>

{{ end }}
